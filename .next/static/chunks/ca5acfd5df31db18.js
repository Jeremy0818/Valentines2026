(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,l)=>{t.exports=e.r(76562)},52683,e=>{"use strict";var t=e.i(43476),l=e.i(18566),r=e.i(71645);function s({onComplete:e}){let[l,s]=(0,r.useState)(0),[n,a]=(0,r.useState)(-1),[o,i]=(0,r.useState)(0),[c,d]=(0,r.useState)(null),u=(0,r.useRef)(null),x=(0,r.useRef)(0),h=(0,r.useRef)(-1),m=(0,r.useRef)(null);x.current=l,h.current=n,m.current=c;let b=n>=-.2&&n<=.2;(0,r.useEffect)(()=>(u.current=setInterval(()=>{let e=m.current,t=x.current;"left"===e?t=Math.max(-1,t-.35):"right"===e?t=Math.min(1,t+.35):t*=.98;let l=(Math.random()-.5)*.036,r=h.current+.012*t+l;r=Math.max(-1,Math.min(1,r)),s(t),a(r)},16),()=>{u.current&&clearInterval(u.current)}),[]),(0,r.useEffect)(()=>{if(!b)return void i(0);let t=setInterval(()=>{i(l=>{let r=l+.05;return r>=3&&(clearInterval(t),e()),Math.min(r,3)})},50);return()=>clearInterval(t)},[b,e]);let f=(0,r.useCallback)(e=>{let t=e.currentTarget.getBoundingClientRect();d(e.clientX-t.left<t.width/2?"left":"right"),e.target.setPointerCapture?.(e.pointerId)},[]),p=(0,r.useCallback)(()=>{d(null)},[]),g=(0,r.useCallback)(()=>{d(null)},[]);return(0,t.jsxs)("div",{className:"w-full max-w-md space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsxs)("div",{className:"relative w-full flex justify-center items-end",style:{height:120},children:[(0,t.jsx)("div",{className:"absolute bottom-0 w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-b-[24px] border-b-amber-800",style:{left:"50%",transform:"translateX(-50%)"}}),(0,t.jsxs)("div",{className:"absolute left-1/2 rounded-md border-2 border-amber-900 overflow-visible",style:{width:256,height:20,bottom:22,transform:`translateX(-50%) rotate(${25*l}deg)`,transformOrigin:"center center"},children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-md bg-amber-700 shadow-lg"}),(0,t.jsx)("div",{className:"absolute w-6 h-6 rounded-full bg-rose-500 border-2 border-white shadow-lg -translate-x-1/2 -translate-y-1/2",style:{left:`${50+45*n}%`,top:"50%"}})]})]}),(0,t.jsx)("p",{className:"text-sm text-center mt-2 text-amber-900 font-medium",children:"Hold left or right to tilt. Keep the ball in the center!"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-center text-sm font-medium",children:"Hold left side to tilt left Â· Hold right side to tilt right"}),(0,t.jsxs)("div",{className:"relative h-14 flex cursor-pointer select-none touch-none",onPointerDown:f,onPointerUp:p,onPointerLeave:g,onPointerCancel:p,children:[(0,t.jsx)("div",{className:`flex-1 flex items-center justify-center rounded-l-lg border-2 border-amber-800 transition-colors ${"left"===c?"bg-amber-600":"bg-amber-200"}`,children:"â† Tilt left"}),(0,t.jsx)("div",{className:"w-2 bg-amber-900"}),(0,t.jsx)("div",{className:`flex-1 flex items-center justify-center rounded-r-lg border-2 border-amber-800 transition-colors ${"right"===c?"bg-amber-600":"bg-amber-200"}`,children:"Tilt right â†’"})]})]}),(0,t.jsx)("p",{className:"text-center text-sm",children:b?(0,t.jsxs)("span",{className:"text-green-700 font-bold",children:["Ball in center! ",o.toFixed(1),"s / ",3,"s"]}):(0,t.jsx)("span",{className:"text-red-600",children:"Keep the ball in the center zone!"})})]})}function n({onComplete:e}){let[l,s]=(0,r.useState)({x:24,y:24}),[n,a]=(0,r.useState)(!1),[o,i]=(0,r.useState)({w:300,h:280}),c=(0,r.useRef)(null);(0,r.useEffect)(()=>{let e=()=>{if(c.current){let{width:e,height:t}=c.current.getBoundingClientRect();i({w:e,h:t})}};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let d=(0,r.useCallback)(()=>{s({x:Math.random()*Math.max(0,o.w-120-24)+12,y:Math.random()*Math.max(0,o.h-48-24)+12})},[o.w,o.h]),u=(0,r.useCallback)(()=>{if(!n){a(!0),d();return}d()},[n,d]);return(0,t.jsxs)("div",{className:"relative w-full min-h-[280px] flex items-center justify-center gap-8",children:[(0,t.jsx)("button",{type:"button",onClick:e,className:"px-6 py-3 text-lg font-bold rounded-lg shadow-lg transition-none select-none flex-shrink-0 cursor-pointer",style:{width:120,height:48,backgroundColor:"#e11d48",color:"white",border:"3px solid #fda4af"},children:"Yes"}),(0,t.jsx)("div",{ref:c,className:"relative flex-1 min-h-[280px]",onMouseMove:e=>{if(!c.current)return;let t=c.current.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;100>Math.hypot(r-(l.x+60),s-(l.y+24))&&n&&d()},children:(0,t.jsx)("button",{type:"button",onClick:d,onMouseEnter:u,className:"absolute px-6 py-3 text-lg font-bold rounded-lg shadow-lg transition-none select-none",style:{left:l.x,top:l.y,width:120,height:48,backgroundColor:"#6b7280",color:"white",border:"3px solid #9ca3af"},children:"No"})})]})}function a(){let e=(0,l.useRouter)(),[a,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(!1),d=(0,r.useCallback)(()=>{o(!0)},[]),u=(0,r.useCallback)(()=>{c(!0),e.push("/success")},[e]);return(0,t.jsxs)("div",{className:"puzzle-page min-h-screen p-6 flex flex-col items-center justify-center relative",children:[(0,t.jsx)("span",{className:"absolute top-4 left-4 text-4xl","aria-hidden":!0,children:"ðŸŒ·"}),(0,t.jsx)("span",{className:"absolute top-4 right-4 text-4xl","aria-hidden":!0,children:"ðŸŒ¸"}),(0,t.jsx)("span",{className:"absolute bottom-4 left-4 text-4xl","aria-hidden":!0,children:"ðŸ’"}),(0,t.jsx)("span",{className:"absolute bottom-4 right-4 text-4xl","aria-hidden":!0,children:"ðŸŒ¹"}),(0,t.jsx)("h1",{className:"text-3xl font-bold mb-8 text-center drop-shadow-sm",style:{color:"#7c2d12",textShadow:"2px 2px 0 #fef08a"},children:"Valentine's Puzzle"}),!a&&(0,t.jsxs)("section",{className:"w-full max-w-lg mb-8 bg-white/60 rounded-xl p-6 border-4 border-pink-400 shadow-lg",children:[(0,t.jsx)("p",{className:"text-xl mb-4 text-center font-bold",style:{color:"#be123c"},children:"Do you love me?"}),(0,t.jsx)(n,{onComplete:d})]}),a&&!i&&(0,t.jsxs)("section",{className:"w-full max-w-lg flex flex-col items-center bg-white/60 rounded-xl p-6 border-4 border-green-500 shadow-lg",children:[(0,t.jsx)("p",{className:"text-xl mb-6 text-center font-bold",style:{color:"#166534"},children:"How much do you love me? Keep the slider in the heart zone for 3 seconds!"}),(0,t.jsx)(s,{onComplete:u})]})]})}e.s(["default",()=>a],52683)}]);